<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Page d'accueil</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

    <style>
        .animate__animated.animate__bounce {
            transition: all 1s ease-in-out;
            --animate-duration: 0.8s;
        }
    </style>

</head>
<body style="overflow-y: scroll">

<header th:include="menu :: menuFragment" style="background-color: transparent; position: fixed"></header>

<div class="messagePopUps">
    <p th:if="${messageInscrReussite != null}" class="messageTextReussie" th:text="${messageInscrReussite}"></p>
    <p th:if="${messageInscrEchoue != null}" class="messageTextEchoue" th:text="${messageInscrEchoue}"></p>
    <p th:if="${messageConnEchoue != null}" class="messageTextEchoue" th:text="${messageConnEchoue}"></p>
    <p th:if="${messageDeconnexion != null}" class="messageTextReussie" th:text="${messageDeconnexion}"></p>
</div>

<div th:replace="authForm.html :: authForm"></div>

<main>
    <!-- Left section -->
    <div id="left-section" th:include="leftNav :: leftNavFragment" style="display: none"></div>

    <div id="main-section-home-page">

        <div class="main-gif-landing-page" id="landingPageVideo">
            <video loop="" muted="" playsinline="" autoplay="" poster="">
                <source src="images/landingPageVideo.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>

        <div class="animated-company-name">
            <h1 id="companyName">CONNITA</h1>
        </div>

        <div class="first-section-home-page">
            <img src="https://images.unsplash.com/photo-1473625247510-8ceb1760943f?q=80&w=2011&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                 alt="italy landscape">
            <h2 class="home-page-section-title">To new adventures</h2>
            <p class="home-page-section-desc">Discover the hidden gems of far-off destinations, uncover the best-kept
                secrets of seasoned travelers, and connect with like-minded explorers who share your insatiable thirst
                for adventure.</p>
        </div>

        <div class="second-section-home-page">

        </div>

        <div class="third-section-home-page">

        </div>

        <div class="fourth-section-home-page">

        </div>

    </div>
</main>
<script src="/javascript/script.js"></script>
<script th:inline="javascript">

    const shakeyButton = document.getElementById('shakeyList');
    const shakeyElement = document.getElementById('shakeyButton');
    shakeyButton.addEventListener('click', function () {
        shakeyElement.classList.add('animate__animated');
        shakeyElement.classList.add('animate__swing');

        setTimeout(() => {
            shakeyElement.classList.remove('animate__animated');
            shakeyElement.classList.remove('animate__swing');
        }, 1000);
    });

    const landingPageVideo = document.getElementById('landingPageVideo');
    const landingPageCompanyName = document.getElementById('companyName');
    const landingPageCompanyNameContainer = document.querySelector('.animated-company-name');

    document.addEventListener('scroll', () => {
        const scrollPosition = window.scrollY;
        const windowHeight = window.innerHeight;
        const imageOffsetTop = landingPageVideo.offsetTop;
        const imageHeight = landingPageVideo.offsetHeight;
        const distanceFromTop = imageOffsetTop - scrollPosition + imageHeight;

        let opacity = distanceFromTop / windowHeight;
        opacity = Math.max(0, Math.min(1, opacity));

        landingPageVideo.style.opacity = opacity;

        if (!(opacity < 0.16)) {
            landingPageCompanyName.style.transform = "scale(" + opacity + ")";
            landingPageCompanyNameContainer.classList.remove('textLandingPageContainerAnimation');
            landingPageCompanyName.classList.remove('animateTextLandingPageText');
        } else {
            landingPageCompanyNameContainer.classList.add('textLandingPageContainerAnimation');
            landingPageCompanyName.classList.add('animateTextLandingPageText');
        }
    })


</script>
</body>
</html>

